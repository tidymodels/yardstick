<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • yardstick</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.5/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://yardstick.tidymodels.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="yardstick.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">yardstick</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/metric-types.html">Metric types</a>
    <a class="dropdown-item" href="../articles/multiclass.html">Multiclass averaging</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-learn-more">Learn more</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-learn-more">
    <a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/develop/metrics/">Custom performance metrics</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidymodels/yardstick/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/tidymodels/yardstick/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="yardstick-development-version">yardstick (development version)<a class="anchor" aria-label="anchor" href="#yardstick-development-version"></a></h2>
<ul><li><p>Using <code><a href="../reference/metric_set.html">metric_set()</a></code> on a metric created with <code><a href="../reference/metric_tweak.html">metric_tweak()</a></code> will no longer produces an error, and will favor arguments set with <code><a href="../reference/metric_tweak.html">metric_tweak()</a></code> (<a href="https://github.com/tidymodels/yardstick/issues/351" class="external-link">#351</a>).</p></li>
<li><p>Metric summarizers no longer error if column names in <code>data</code> conflict with argument names (<a href="https://github.com/tidymodels/yardstick/issues/382" class="external-link">#382</a>).</p></li>
<li><p>The global option, <code>yardstick.event_first</code>, has been hard deprecated in favor of using explicit argument, <code>event_level</code>. Setting this option will now produce an warning, but won’t have any effect. (<a href="https://github.com/tidymodels/yardstick/issues/173" class="external-link">#173</a>)</p></li>
<li><p>The Brier score for classification was added (<a href="https://github.com/tidymodels/yardstick/issues/139" class="external-link">#139</a>).</p></li>
<li><p><code><a href="../reference/metric_vec_template.html">metric_vec_template()</a></code> is being soft deprecated in favor of a more manual and flexible metric creation approach. <code><a href="../reference/yardstick_remove_missing.html">yardstick_remove_missing()</a></code> and <code><a href="../reference/yardstick_remove_missing.html">yardstick_any_missing()</a></code> have been added for treatment of missing values. <code><a href="../reference/check_metric.html">check_class_metric()</a></code>, <code><a href="../reference/check_metric.html">check_numeric_metric()</a></code>, and <code><a href="../reference/check_metric.html">check_prob_metric()</a></code> have been added to perform standardized input checking for classification, regression and class probability metrics respectively. These changes mean that it is the developer’s responsibility to perform validation of <code>truth</code> and <code>estimate</code> input. (<a href="https://github.com/tidymodels/yardstick/issues/337" class="external-link">#337</a>).</p></li>
<li><p><code><a href="../reference/metric_summarizer.html">metric_summarizer()</a></code> is being soft deprecated in favor of the more specific newly added <code><a href="../reference/metric-summarizers.html">class_metric_summarizer()</a></code>, <code><a href="../reference/metric-summarizers.html">numeric_metric_summarizer()</a></code>, <code><a href="../reference/metric-summarizers.html">prob_metric_summarizer()</a></code>, and <code><a href="../reference/metric-summarizers.html">curve_metric_summarizer()</a></code> (<a href="https://github.com/tidymodels/yardstick/issues/322" class="external-link">#322</a>).</p></li>
<li><p><code><a href="../reference/developer-helpers.html">dots_to_estimate()</a></code> is being soft deprecated along with <code><a href="../reference/metric_summarizer.html">metric_summarizer()</a></code>. <code><a href="../reference/developer-helpers.html">dots_to_estimate()</a></code> is not needed with <code><a href="../reference/metric-summarizers.html">prob_metric_summarizer()</a></code>, and <code><a href="../reference/metric-summarizers.html">curve_metric_summarizer()</a></code> (<a href="https://github.com/tidymodels/yardstick/issues/329" class="external-link">#329</a>).</p></li>
<li><p>yardstick metric functions now use a pure tidyselect interface for <code>truth</code>, <code>estimate</code>, and the <code>...</code> of class probability metrics (<a href="https://github.com/tidymodels/yardstick/issues/322" class="external-link">#322</a>).</p></li>
<li><p>Changed the default aspect ratio for PR curves to be 1.0.</p></li>
<li><p><code><a href="../reference/conf_mat.html">conf_mat()</a></code> no longer throw errors listed as internal (<a href="https://github.com/tidymodels/yardstick/issues/327" class="external-link">#327</a>).</p></li>
<li><p>Removed start-up message about <code>event_level</code> argument.</p></li>
<li><p>The Brier score for survival data was added with <code><a href="../reference/brier_survival.html">brier_survival()</a></code>.</p></li>
<li><p>The Integrated Brier score for survival data was added with <code><a href="../reference/brier_survival_integrated.html">brier_survival_integrated()</a></code>.</p></li>
<li><p>The Concordance index for survival data was added with <code><a href="../reference/concordance_survival.html">concordance_survival()</a></code>.</p></li>
<li><p>Time-Dependent ROC curves estimation for right-censored data can now be calculated with <code><a href="../reference/roc_curve_survival.html">roc_curve_survival()</a></code>.</p></li>
<li><p>Time-Dependent ROC AUC estimation for right-censored data can now be calculated with <code><a href="../reference/roc_auc_survival.html">roc_auc_survival()</a></code>.</p></li>
<li><p><code><a href="../reference/metric_set.html">metric_set()</a></code> can now be used with a combination of dynamic and static survival metrics.</p></li>
<li><p>Error messages now show what user-facing function was called (<a href="https://github.com/tidymodels/yardstick/issues/348" class="external-link">#348</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="yardstick-110">yardstick 1.1.0<a class="anchor" aria-label="anchor" href="#yardstick-110"></a></h2><p class="text-muted">CRAN release: 2022-09-07</p>
<ul><li><p>Emil Hvitfeldt is now the maintainer (<a href="https://github.com/tidymodels/yardstick/issues/315" class="external-link">#315</a>).</p></li>
<li><p>Improved on the chained error thrown by <code><a href="../reference/metric_set.html">metric_set()</a></code> when one of the metric computations fails (<a href="https://github.com/tidymodels/yardstick/issues/313" class="external-link">#313</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="yardstick-100">yardstick 1.0.0<a class="anchor" aria-label="anchor" href="#yardstick-100"></a></h2><p class="text-muted">CRAN release: 2022-06-06</p>
<ul><li><p>All yardstick metrics now support case weights through the new <code>case_weights</code> argument. This also includes metric-adjacent functions like <code><a href="../reference/roc_curve.html">roc_curve()</a></code>, <code><a href="../reference/pr_curve.html">pr_curve()</a></code>, <code><a href="../reference/conf_mat.html">conf_mat()</a></code>, and <code><a href="../reference/metric_set.html">metric_set()</a></code>.</p></li>
<li><p>The <code>options</code> argument of <code><a href="../reference/roc_curve.html">roc_curve()</a></code>, <code><a href="../reference/roc_auc.html">roc_auc()</a></code>, <code><a href="../reference/roc_aunp.html">roc_aunp()</a></code>, <code><a href="../reference/roc_aunu.html">roc_aunu()</a></code>, and <code><a href="../reference/metrics.html">metrics()</a></code> that was passed along to the pROC package is now deprecated and no longer has any affect. This is a result of changing to an ROC curve implementation that supports case weights, but does not support any of the previous options. If you need these options, we suggest wrapping pROC yourself in a custom metric (<a href="https://github.com/tidymodels/yardstick/issues/296" class="external-link">#296</a>).</p></li>
<li><p><code><a href="../reference/conf_mat.html">conf_mat()</a></code> now ignores any inputs passed through <code>...</code> and warns if you try to do such a thing. Previously, those were passed on to <code><a href="https://rdrr.io/r/base/table.html" class="external-link">base::table()</a></code>, but with the addition of case weight support, <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table()</a></code> is no longer used (<a href="https://github.com/tidymodels/yardstick/issues/295" class="external-link">#295</a>).</p></li>
<li><p>Fixed a small mistake in <code><a href="../reference/ccc.html">ccc()</a></code> where the unbiased covariance wasn’t being used when <code>bias = FALSE</code>.</p></li>
<li><p><code><a href="../reference/j_index.html">j_index()</a></code> now throws a more correct warning if <code>0</code> is in the denominator when computing <code><a href="../reference/sens.html">sens()</a></code> internally. Additionally, in the multiclass case it now removes the levels where this occurs from the multiclass weighted average computation, which is consistent with how other metrics were updated to handle this in <a href="https://github.com/tidymodels/yardstick/issues/118" class="external-link">#118</a> (<a href="https://github.com/tidymodels/yardstick/issues/265" class="external-link">#265</a>).</p></li>
<li><p>Improved on some possible ambiguity in the documentation of the <code>data</code> argument for all metrics (<a href="https://github.com/tidymodels/yardstick/issues/255" class="external-link">#255</a>).</p></li>
<li><p>purrr has been removed from Suggests.</p></li>
<li><p>The pROC package has been removed as a dependency (<a href="https://github.com/tidymodels/yardstick/issues/300" class="external-link">#300</a>).</p></li>
<li><p>Moved the Custom Metrics vignette to tidymodels.org (<a href="https://github.com/tidymodels/yardstick/issues/236" class="external-link">#236</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.9" id="yardstick-009">yardstick 0.0.9<a class="anchor" aria-label="anchor" href="#yardstick-009"></a></h2><p class="text-muted">CRAN release: 2021-11-22</p>
<ul><li><p>New metric <code><a href="../reference/poisson_log_loss.html">poisson_log_loss()</a></code> was added (<a href="https://github.com/tidymodels/yardstick/issues/146" class="external-link">#146</a>).</p></li>
<li><p><code><a href="../reference/sens.html">sensitivity()</a></code> and <code><a href="../reference/spec.html">specificity()</a></code> now work correctly with the tune and workflowsets packages (<a href="https://github.com/tidymodels/yardstick/issues/232" class="external-link">#232</a>).</p></li>
<li><p><code><a href="../reference/roc_curve.html">roc_curve()</a></code> now throws a more informative error if <code>truth</code> doesn’t have any control or event observations.</p></li>
<li><p>dplyr 1.0.0 is now required. This allowed us to remove multiple usages of <code><a href="https://dplyr.tidyverse.org/reference/do.html" class="external-link">dplyr::do()</a></code> in favor of <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarise()</a></code>, which can now return packed data frame columns and multiple rows per group.</p></li>
<li><p>Removed internal hardcoding of <code>"dplyr_error"</code> to avoid issues with an upcoming dplyr 1.0.8 release (<a href="https://github.com/tidymodels/yardstick/issues/244" class="external-link">#244</a>).</p></li>
<li><p>Updated test suite to testthat 3e (<a href="https://github.com/tidymodels/yardstick/issues/243" class="external-link">#243</a>).</p></li>
<li><p>Internal upkeep has been done to move from <code>rlang::warn(.subclass = )</code> to <code>rlang::warn(class = )</code>, since the <code>.subclass</code> argument has been deprecated (<a href="https://github.com/tidymodels/yardstick/issues/225" class="external-link">#225</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.8" id="yardstick-008">yardstick 0.0.8<a class="anchor" aria-label="anchor" href="#yardstick-008"></a></h2><p class="text-muted">CRAN release: 2021-03-28</p>
<ul><li><p>New <code><a href="../reference/metric_tweak.html">metric_tweak()</a></code> for adjusting the default values of optional arguments in an existing yardstick metric. This is useful to quickly adjust the defaults of a metric that will be included in a <code><a href="../reference/metric_set.html">metric_set()</a></code>, especially if that metric set is going to be used for tuning with the tune package (<a href="https://github.com/tidymodels/yardstick/issues/206" class="external-link">#206</a>, <a href="https://github.com/tidymodels/yardstick/issues/182" class="external-link">#182</a>).</p></li>
<li><p>New <code><a href="../reference/classification_cost.html">classification_cost()</a></code> metric for computing the cost of a poor class probability prediction using user-defined costs (<a href="https://github.com/tidymodels/yardstick/issues/3" class="external-link">#3</a>).</p></li>
<li><p>New <code><a href="../reference/msd.html">msd()</a></code> for computing the mean signed deviation (also called mean signed difference, or mean signed error) (<a href="https://github.com/tidymodels/yardstick/issues/183" class="external-link">#183</a>, <a href="https://github.com/datenzauberai" class="external-link">@datenzauberai</a>).</p></li>
<li><p><code>class_pred</code> objects from the <a href="https://probably.tidymodels.org/" class="external-link">probably</a> package are now supported, and are automatically converted to factors before computing any metric. Note that this means that any equivocal values are materialized as <code>NA</code> (<a href="https://github.com/tidymodels/yardstick/issues/198" class="external-link">#198</a>).</p></li>
<li><p>The <code><a href="../reference/kap.html">kap()</a></code> metric has a new <code>weighting</code> argument to apply linear or quadratic weightings before computing the kappa value (<a href="https://github.com/tidymodels/yardstick/issues/2" class="external-link">#2</a>, <a href="https://github.com/tidymodels/yardstick/issues/125" class="external-link">#125</a>, <a href="https://github.com/jonthegeek" class="external-link">@jonthegeek</a>).</p></li>
<li><p>When <code><a href="../reference/sens.html">sens()</a></code> is undefined when computing <code><a href="../reference/ppv.html">ppv()</a></code>, <code><a href="../reference/npv.html">npv()</a></code>, <code><a href="../reference/j_index.html">j_index()</a></code>, or <code><a href="../reference/bal_accuracy.html">bal_accuracy()</a></code>, a sensitivity warning is now correctly thrown, rather than a recall warning (<a href="https://github.com/tidymodels/yardstick/issues/101" class="external-link">#101</a>).</p></li>
<li><p>The <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> method for gain curves now plots the curve line on top of the shaded polygon, resulting in a sharper look for the line itself (<a href="https://github.com/tidymodels/yardstick/issues/192" class="external-link">#192</a>, <a href="https://github.com/eddjberry" class="external-link">@eddjberry</a>).</p></li>
<li><p>The <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> methods for <code>conf_mat</code> now respect user-defined dimension names added through <code>conf_mat(dnn = )</code> or from converting a table with dimension names to a <code>conf_mat</code> (<a href="https://github.com/tidymodels/yardstick/issues/191" class="external-link">#191</a>).</p></li>
<li><p>Added an <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble()</a></code> method for <code>metric_set</code> objects. Printing a <code>metric_set</code> now uses this to print out a tibble rather than a data frame (<a href="https://github.com/tidymodels/yardstick/issues/186" class="external-link">#186</a>).</p></li>
<li><p>Re-licensed package from GPL-2 to MIT. See <a href="https://github.com/tidymodels/yardstick/issues/204" class="external-link">consent from copyright holders here</a> (<a href="https://github.com/tidymodels/yardstick/issues/204" class="external-link">#204</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="yardstick-007">yardstick 0.0.7<a class="anchor" aria-label="anchor" href="#yardstick-007"></a></h2><p class="text-muted">CRAN release: 2020-07-13</p>
<ul><li>
<p>The global option, <code>yardstick.event_first</code>, has been deprecated in favor of the new explicit argument, <code>event_level</code>. All metric functions that previously supported changing the “event” level have gained this new argument. The global option was a historical design decision that can be classified as a case of a <a href="https://design.tidyverse.org/args-hidden.html#args-hidden" class="external-link">hidden argument</a>. Existing code that relied on this global option will continue to work in this version of yardstick, however you will now get a once-per-session warning that requests that you update to instead use the explicit <code>event_level</code> argument. The global option will be completely removed in a future version. To update, follow the guide below (<a href="https://github.com/tidymodels/yardstick/issues/163" class="external-link">#163</a>).</p>
<pre><code>`options(yardstick.event_first = TRUE)`  -&gt; `event_level = "first"` (the default)
`options(yardstick.event_first = FALSE)` -&gt; `event_level = "second"`</code></pre>
</li>
<li><p>The <code><a href="../reference/roc_auc.html">roc_auc()</a></code> Hand-Till multiclass estimator will now ignore levels in <code>truth</code> that occur zero times in the actual data. With other methods of multiclass averaging, this usually returns an <code>NA</code>, however, ignoring levels in this manner is more consistent with implementations in the HandTill2001 and pROC packages (<a href="https://github.com/tidymodels/yardstick/issues/123" class="external-link">#123</a>).</p></li>
<li><p><code><a href="../reference/roc_auc.html">roc_auc()</a></code> and <code><a href="../reference/roc_curve.html">roc_curve()</a></code> now set <code>direction = "&lt;"</code> when computing the ROC curve using <code>pROC::roc()</code>. Results were being computed incorrectly with <code>direction = "auto"</code> when most probability values were predicting the wrong class (<a href="https://github.com/tidymodels/yardstick/issues/123" class="external-link">#123</a>).</p></li>
<li><p><code><a href="../reference/mn_log_loss.html">mn_log_loss()</a></code> now respects the (deprecated) global option <code>yardstick.event_first</code>. However, you should instead change the relevant event level through the <code>event_level</code> argument.</p></li>
<li><p><code><a href="../reference/metric_set.html">metric_set()</a></code> now strips the package name when auto-labeling functions (<a href="https://github.com/rorynolan" class="external-link">@rorynolan</a>, <a href="https://github.com/tidymodels/yardstick/issues/151" class="external-link">#151</a>).</p></li>
<li><p>There are three new helper functions for more easily creating custom metric functions: <code><a href="../reference/new-metric.html">new_class_metric()</a></code>, <code><a href="../reference/new-metric.html">new_prob_metric()</a></code>, and <code><a href="../reference/new-metric.html">new_numeric_metric()</a></code>.</p></li>
<li><p>Rcpp has been removed as a direct dependency.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="yardstick-006">yardstick 0.0.6<a class="anchor" aria-label="anchor" href="#yardstick-006"></a></h2><p class="text-muted">CRAN release: 2020-03-17</p>
<ul><li><p><code><a href="../reference/roc_auc.html">roc_auc()</a></code> now warns when there are no events or controls in the provided <code>truth</code> column, and returns <code>NA</code> (<a href="https://github.com/dpastling" class="external-link">@dpastling</a>, <a href="https://github.com/tidymodels/yardstick/issues/132" class="external-link">#132</a>).</p></li>
<li><p>Adds <code><a href="../reference/sens.html">sensitivity()</a></code> and <code><a href="../reference/spec.html">specificity()</a></code> as <em>aliases</em> for <code><a href="../reference/sens.html">sens()</a></code> and <code><a href="../reference/spec.html">spec()</a></code> respectively, avoids conflict with other packages e.g. <code>readr::spec()</code>.</p></li>
<li><p><code><a href="../reference/roc_aunu.html">roc_aunu()</a></code> and <code><a href="../reference/roc_aunp.html">roc_aunp()</a></code> are two new ROC AUC metrics for multiclass classifiers. These measure the AUC of each class against the rest, <code><a href="../reference/roc_aunu.html">roc_aunu()</a></code> using the uniform class distribution (<a href="https://github.com/tidymodels/yardstick/issues/69" class="external-link">#69</a>) and <code><a href="../reference/roc_aunp.html">roc_aunp()</a></code> using the a priori class distribution (<a href="https://github.com/tidymodels/yardstick/issues/70" class="external-link">#70</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="yardstick-005">yardstick 0.0.5<a class="anchor" aria-label="anchor" href="#yardstick-005"></a></h2><p class="text-muted">CRAN release: 2020-01-23</p>
<div class="section level3">
<h3 id="other-improvements-0-0-5">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-0-0-5"></a></h3>
<ul><li><p>The <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> heat map for confusion matrices now places the predicted values on the <code>x</code> axis and the truth values on the <code>y</code> axis to be more consistent with the confusion matrix <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method.</p></li>
<li><p>The <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> mosaic plot for confusion matrices had the <code>x</code> and <code>y</code> axis labels backwards. This has been corrected.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="yardstick-004">yardstick 0.0.4<a class="anchor" aria-label="anchor" href="#yardstick-004"></a></h2><p class="text-muted">CRAN release: 2019-08-26</p>
<div class="section level3">
<h3 id="new-metrics-and-functionality-0-0-4">New metrics and functionality<a class="anchor" aria-label="anchor" href="#new-metrics-and-functionality-0-0-4"></a></h3>
<ul><li><p><code><a href="../reference/iic.html">iic()</a></code> is a new numeric metric for computing the index of ideality of correlation. It can be seen as a potential alternative to the traditional correlation coefficient, and has been used in QSAR models (<a href="https://github.com/jyuu" class="external-link">@jyuu</a>, <a href="https://github.com/tidymodels/yardstick/issues/115" class="external-link">#115</a>).</p></li>
<li><p><code><a href="../reference/average_precision.html">average_precision()</a></code> is a new probability metric that can be used as an alternative to <code><a href="../reference/pr_auc.html">pr_auc()</a></code>. It has the benefit of avoiding any issues of ambiguity in the case where <code>recall == 0</code> and the current number of false positives is <code>0</code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="other-improvements-0-0-4">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-0-0-4"></a></h3>
<ul><li><p><code><a href="../reference/metric_set.html">metric_set()</a></code> output now includes a <code>metrics</code> attribute which contains a list of the original metric functions used to generate the metric set.</p></li>
<li><p>Each metric function now has a <code>direction</code> attribute attached to it, specifying whether to minimize or maximize the metric.</p></li>
<li><p>Classification metrics that can potentially have a <code>0</code> value denominator now throw an informative warning when this case occurs. These include <code><a href="../reference/recall.html">recall()</a></code>, <code><a href="../reference/precision.html">precision()</a></code>, <code><a href="../reference/sens.html">sens()</a></code>, and <code><a href="../reference/spec.html">spec()</a></code> (<a href="https://github.com/tidymodels/yardstick/issues/98" class="external-link">#98</a>).</p></li>
<li><p>The <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot()</a></code> method for <code><a href="../reference/pr_curve.html">pr_curve()</a></code> has been improved to always set the axis limits to <code>c(0, 1)</code>.</p></li>
<li><p>All valid arguments to <code>pROC::roc()</code> are now utilized, including those passed on to <code>pROC::auc()</code>.</p></li>
<li><p>Documentation for class probability metrics has been improved with more informative examples (<a href="https://github.com/rudeboybert" class="external-link">@rudeboybert</a>, <a href="https://github.com/tidymodels/yardstick/issues/100" class="external-link">#100</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-4"></a></h3>
<ul><li><p><code><a href="../reference/mn_log_loss.html">mn_log_loss()</a></code> now uses the min/max rule before computing the log of the estimated probabilities to avoid problematic undefined log values (<a href="https://github.com/tidymodels/yardstick/issues/103" class="external-link">#103</a>).</p></li>
<li><p><code><a href="../reference/pr_curve.html">pr_curve()</a></code> now places a <code>1</code> as the first precision value, rather than <code>NA</code>. While <code>NA</code> is technically correct as precision is undefined here, <code>1</code> is practically more correct because it generates a correct PR Curve graph and, more importantly, allows <code><a href="../reference/pr_auc.html">pr_auc()</a></code> to compute the correct AUC.</p></li>
<li><p><code><a href="../reference/pr_curve.html">pr_curve()</a></code> could generate the wrong results in the somewhat rare case when two class probability estimates were the same, but had different truth values.</p></li>
<li><p><code><a href="../reference/pr_curve.html">pr_curve()</a></code> (and subsequently <code><a href="../reference/pr_auc.html">pr_auc()</a></code>) now generates the correct curve when there are duplicate class probability values (reported by <a href="https://github.com/dariyasydykova" class="external-link">@dariyasydykova</a>, <a href="https://github.com/tidymodels/yardstick/issues/93" class="external-link">#93</a>).</p></li>
<li><p>Binary <code><a href="../reference/mcc.html">mcc()</a></code> now avoids integer overflow when the confusion matrix elements are large (<a href="https://github.com/tidymodels/yardstick/issues/108" class="external-link">#108</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="yardstick-003">yardstick 0.0.3<a class="anchor" aria-label="anchor" href="#yardstick-003"></a></h2><p class="text-muted">CRAN release: 2019-03-08</p>
<div class="section level3">
<h3 id="new-metrics-and-functionality-0-0-3">New metrics and functionality<a class="anchor" aria-label="anchor" href="#new-metrics-and-functionality-0-0-3"></a></h3>
<ul><li><p><code><a href="../reference/mase.html">mase()</a></code> is a numeric metric for the mean absolute scaled error. It is generally useful when forecasting with time series (<a href="https://github.com/alexhallam" class="external-link">@alexhallam</a>, <a href="https://github.com/tidymodels/yardstick/issues/68" class="external-link">#68</a>).</p></li>
<li><p><code><a href="../reference/huber_loss.html">huber_loss()</a></code> is a numeric metric that is less sensitive to outliers than <code><a href="../reference/rmse.html">rmse()</a></code>, but is more sensitive than <code><a href="../reference/mae.html">mae()</a></code> for small errors (<a href="https://github.com/blairj09" class="external-link">@blairj09</a>, <a href="https://github.com/tidymodels/yardstick/issues/71" class="external-link">#71</a>).</p></li>
<li><p><code><a href="../reference/huber_loss_pseudo.html">huber_loss_pseudo()</a></code> is a smoothed form of <code><a href="../reference/huber_loss.html">huber_loss()</a></code> (<a href="https://github.com/blairj09" class="external-link">@blairj09</a>, <a href="https://github.com/tidymodels/yardstick/issues/71" class="external-link">#71</a>).</p></li>
<li><p><code><a href="../reference/smape.html">smape()</a></code> is a numeric metric that is based on percentage errors (<a href="https://github.com/riazhedayati" class="external-link">@riazhedayati</a>, <a href="https://github.com/tidymodels/yardstick/issues/67" class="external-link">#67</a>).</p></li>
<li><p><code>conf_mat</code> objects now have two <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">ggplot2::autoplot()</a></code> methods for easy visualization of the confusion matrix as either a heat map or a mosaic plot (<a href="https://github.com/EmilHvitfeldt" class="external-link">@EmilHvitfeldt</a>, <a href="https://github.com/tidymodels/yardstick/issues/10" class="external-link">#10</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="other-improvements-0-0-3">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-0-0-3"></a></h3>
<ul><li>
<code><a href="../reference/metric_set.html">metric_set()</a></code> now returns a classed function. If numeric metrics are used, a <code>"numeric_metric_set"</code> function is returned. If class or probability metrics are used, a <code>"class_prob_metric_set"</code> is returned.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-3"></a></h3>
<ul><li><p>Tests related to the fixed R 3.6 <code><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample()</a></code> function have been fixed.</p></li>
<li><p><code><a href="../reference/f_meas.html">f_meas()</a></code> propagates <code>NA</code> values from <code><a href="../reference/precision.html">precision()</a></code> and <code><a href="../reference/recall.html">recall()</a></code> correctly (<a href="https://github.com/tidymodels/yardstick/issues/77" class="external-link">#77</a>).</p></li>
<li><p>All <code>"micro"</code> estimators now propagate <code>NA</code> values through correctly.</p></li>
<li><p><code>roc_auc(estimator = "hand_till")</code> now correctly computes the metric when the column names of the probability matrix are not the exact same as the levels of <code>truth</code>. Note that the computation still assumes that the order of the supplied probability matrix columns still matches the order of <code>levels(truth)</code>, like other multiclass metrics (<a href="https://github.com/tidymodels/yardstick/issues/86" class="external-link">#86</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="yardstick-002">yardstick 0.0.2<a class="anchor" aria-label="anchor" href="#yardstick-002"></a></h2><p class="text-muted">CRAN release: 2018-11-05</p>
<div class="section level3">
<h3 id="breaking-changes-0-0-2">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-2"></a></h3>
<p>A desire to standardize the yardstick API is what drove these breaking changes. The output of each metric is now in line with tidy principles, returning a tibble rather than a single numeric. Additionally, all metrics now have a standard argument list so you should be able to switch between metrics and combine them together effortlessly.</p>
<ul><li><p>All metrics now return a tibble rather than a single numeric value. This format allows metrics to work with grouped data frames (for resamples). It also allows you to bundle multiple metrics together with a new function, <code><a href="../reference/metric_set.html">metric_set()</a></code>.</p></li>
<li><p>For all class probability metrics, now only 1 column can be passed to <code>...</code> when a binary implementation is used. Those metrics will no longer select only the first column when multiple columns are supplied, and will instead throw an error.</p></li>
<li><p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method for <code>conf_mat</code> objects now returns a tibble to be consistent with the change to the metric functions.</p></li>
<li><p>For naming consistency, <code>mnLogLoss()</code> was renamed to <code><a href="../reference/mn_log_loss.html">mn_log_loss()</a></code></p></li>
<li><p><code><a href="../reference/mn_log_loss.html">mn_log_loss()</a></code> now returns the <strong>negative</strong> log loss for the multinomial distribution.</p></li>
<li><p>The argument <code>na.rm</code> has been changed to <code>na_rm</code> in all metrics to align with the <code>tidymodels</code> model implementation principles.</p></li>
</ul></div>
<div class="section level3">
<h3 id="core-features-0-0-2">Core features<a class="anchor" aria-label="anchor" href="#core-features-0-0-2"></a></h3>
<ul><li><p>Each metric now has a vector interface to go alongside the data frame interface. All vector functions end in <code>_vec()</code>. The vector interface accepts vector/matrix inputs and returns a single numeric value.</p></li>
<li><p>Multiclass support has been added for each classification metric. The support varies from one metric to the next, but generally macro and micro averaging is available for all metrics, with some metrics having specialized multiclass implementations (for example, <code><a href="../reference/roc_auc.html">roc_auc()</a></code> supports the multiclass generalization presented in a paper by Hand and Till). For more information, see <code><a href="../articles/multiclass.html">vignette("multiclass", "yardstick")</a></code>.</p></li>
<li><p>All metrics now work with grouped data frames. This produces a tibble with as many rows as there are groups, and is useful when used alongside resampling techniques.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-metrics-and-functionality-0-0-2">New metrics and functionality<a class="anchor" aria-label="anchor" href="#new-metrics-and-functionality-0-0-2"></a></h3>
<ul><li><p><code><a href="../reference/mape.html">mape()</a></code> calculates the mean absolute percent error.</p></li>
<li><p><code><a href="../reference/kap.html">kap()</a></code> is a metric similar to <code><a href="../reference/accuracy.html">accuracy()</a></code> that calculates Cohen’s kappa.</p></li>
<li><p><code><a href="../reference/detection_prevalence.html">detection_prevalence()</a></code> calculates the number of predicted positive events relative to the total number of predictions.</p></li>
<li><p><code><a href="../reference/bal_accuracy.html">bal_accuracy()</a></code> calculates balanced accuracy as the average of sensitivity and specificity.</p></li>
<li><p><code><a href="../reference/roc_curve.html">roc_curve()</a></code> calculates receiver operator curves and returns the results as a tibble.</p></li>
<li><p><code><a href="../reference/pr_curve.html">pr_curve()</a></code> calculates precision recall curves.</p></li>
<li><p><code><a href="../reference/gain_curve.html">gain_curve()</a></code> and <code><a href="../reference/lift_curve.html">lift_curve()</a></code> calculate the information used in gain and lift curves.</p></li>
<li><p><code><a href="../reference/gain_capture.html">gain_capture()</a></code> is a measure of performance similar in spirit to AUC but applied to a gain curve.</p></li>
<li><p><code><a href="../reference/pr_curve.html">pr_curve()</a></code>, <code><a href="../reference/roc_curve.html">roc_curve()</a></code>, <code><a href="../reference/gain_curve.html">gain_curve()</a></code> and <code><a href="../reference/lift_curve.html">lift_curve()</a></code> all have <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">ggplot2::autoplot()</a></code> methods for easy visualization.</p></li>
<li><p><code><a href="../reference/metric_set.html">metric_set()</a></code> constructs functions that calculate multiple metrics at once.</p></li>
</ul></div>
<div class="section level3">
<h3 id="other-improvements-0-0-2">Other improvements<a class="anchor" aria-label="anchor" href="#other-improvements-0-0-2"></a></h3>
<ul><li><p>The infrastructure for creating metrics has been exposed to allow users to extend yardstick to work with their own metrics. You might want to do this if you want your metrics to work with grouped data frames out of the box, or if you want the standardization and error checking that yardstick already provides. See <code>vignette("custom-metrics", "yardstick")</code> for a few examples.</p></li>
<li><p>A vignette describing the three classes of metrics used in yardstick has been added. It also includes a list of every metric available, grouped by class. See <code><a href="../articles/metric-types.html">vignette("metric-types", "yardstick")</a></code>.</p></li>
<li><p>The error messages in yardstick should now be much more informative, with better feedback about the types of input that each metric can use and about what kinds of metrics can be used together (i.e. in <code><a href="../reference/metric_set.html">metric_set()</a></code>).</p></li>
<li><p>There is now a <code>grouped_df</code> method for <code><a href="../reference/conf_mat.html">conf_mat()</a></code> that returns a tibble with a list column of <code>conf_mat</code> objects.</p></li>
<li><p>Each metric now has its own help page. This allows us to better document the nuances of each metric without cluttering the help pages of other metrics.</p></li>
</ul></div>
<div class="section level3">
<h3 id="dependencies-0-0-2">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies-0-0-2"></a></h3>
<ul><li><p><code>broom</code> has been removed from Depends, and is replaced by <code>generics</code> in Suggests.</p></li>
<li><p><code>tidyr</code> and <code>ggplot2</code> have been moved to Suggests.</p></li>
<li><p><code>MLmetrics</code> has been removed as a dependency.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="yardstick-001">yardstick 0.0.1<a class="anchor" aria-label="anchor" href="#yardstick-001"></a></h2><p class="text-muted">CRAN release: 2017-11-12</p>
<ul><li>First CRAN release</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, Emil Hvitfeldt, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

